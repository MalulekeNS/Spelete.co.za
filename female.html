<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spelete - Women's Fashion</title>
  <meta name="description" content="Explore elegant women's fashion at Spelete. Shop quality clothing for women.">
  <meta name="author" content="Sevenzile Maluleka">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">

  <style>
    :root{
      --brand-pink:#e91e63;
      --brand-pink-dark:#ad1457;
      --brand-accent:#ff4081;
      --brand-purple:#9c27b0;
      --brand-gold:#FFD700;
      --brand-rose:#f8bbd9;
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:"Lato",sans-serif;
      line-height:1.6;
      background:linear-gradient(135deg,#fce4ec,#f3e5f5);
      color:var(--brand-pink-dark);
      overflow-x:hidden;
    }

    a{ text-decoration:none; color:var(--brand-pink-dark); transition:all .3s ease; }

    .gradient-text {
      background: linear-gradient(135deg, var(--brand-accent), var(--brand-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
    }
    .gradient-text-small {
      background: linear-gradient(135deg, var(--brand-accent), var(--brand-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 600;
    }

    header{
      background:linear-gradient(135deg, rgba(248,187,217,.9), rgba(240,98,146,.8));
      padding:10px 0;
      position:sticky; top:0; z-index:1000;
      box-shadow:0 4px 6px rgba(0,0,0,.1);
    }
    .header-container{
      display:flex; align-items:center; justify-content:space-between;
      padding:0 15px; max-width:1200px; margin:0 auto;
    }
    .navbar-brand img{
      max-height:60px;
      filter:opacity(.9) brightness(.95) contrast(.92);
      mix-blend-mode:soft-light;
      transition:transform .3s ease, filter .3s ease;
    }
    .navbar-brand:hover{ 
      transform:scale(1.06); 
      color: var(--brand-accent) !important;
    }
    .header-actions{
      display:flex; align-items:center; gap:10px;
    }
    .header-icon{
      font-size: 24px;
      color: #fff;
      background: linear-gradient(145deg, var(--brand-accent), var(--brand-pink-dark));
      padding: 14px;
      border-radius: 50%;
      box-shadow: 0 6px 12px rgba(0,0,0,0.3), 
                  inset 0 -3px 6px rgba(0,0,0,0.25), 
                  inset 0 3px 6px rgba(255,255,255,0.3);
      transition: all 0.3s ease;
      position: relative;
      transform: perspective(500px) rotateX(10deg);
      display: flex; align-items: center; justify-content: center;
    }
    .header-icon:hover{
      transform: perspective(500px) rotateX(0deg) translateY(-4px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.4), 
                  inset 0 -3px 6px rgba(0,0,0,0.25), 
                  inset 0 3px 6px rgba(255,255,255,0.4);
      background: var(--brand-purple);
    }

    .cart-badge{
      position:absolute; top:-8px; right:-10px;
      background:var(--brand-gold); color:#000; border:2px solid #fff;
      border-radius:999px; padding:3px 8px; font-size:12px; font-weight:800;
      line-height:1; box-shadow:0 2px 4px rgba(0,0,0,0.2);
    }
    .cart-icon{
      font-size: 28px;
      color: #fff;
      background: linear-gradient(145deg, var(--brand-accent), var(--brand-pink-dark));
      padding: 14px;
      border-radius: 50%;
      box-shadow: 0 6px 12px rgba(0,0,0,0.3), 
                  inset 0 -3px 6px rgba(0,0,0,0.25), 
                  inset 0 3px 6px rgba(255,255,255,0.3);
      transition: all 0.3s ease;
      position: relative;
      transform: perspective(500px) rotateX(10deg);
    }
    .cart-icon:hover{
      transform: perspective(500px) rotateX(0deg) translateY(-4px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.4), 
                  inset 0 -3px 6px rgba(0,0,0,0.25), 
                  inset 0 3px 6px rgba(255,255,255,0.4);
      background: var(--brand-purple);
    }

    .search-container{ position:relative; max-width:300px; }
    .search-control{
      border:1px solid rgba(0,0,0,.25);
      background:rgba(255,255,255,.55);
      backdrop-filter:blur(10px);
      color:var(--brand-pink-dark);
      border-radius:25px; padding:8px 15px; font-size:14px;
    }
    .search-control:focus{
      border-color:var(--brand-accent);
      box-shadow:0 0 0 .2rem rgba(255,64,129,.25); outline:none;
    }
    .search-results{
      position:absolute; top:100%; left:0; right:0; z-index:1000;
      background:rgba(255,255,255,.95); backdrop-filter:blur(10px);
      border:1px solid rgba(0,0,0,.15); border-radius:8px; max-height:220px; overflow:auto;
    }
    .result-item{ padding:10px; cursor:pointer; color:var(--brand-pink-dark); }
    .result-item:hover{ background:rgba(156,39,176,.15); color:var(--brand-purple); }

    #hero{
      width:100%; height:90vh;
      background: linear-gradient(135deg, var(--brand-pink), var(--brand-purple));
      position:relative; display:flex; align-items:center; justify-content:center; text-align:center;
    }
    #hero:before{
      content:""; position:absolute; inset:0; z-index:1;
      background:linear-gradient(to bottom, rgba(156,39,176,.7), rgba(255,64,129,.5));
    }
    #hero .container{ position:relative; z-index:2; padding:0 30px; }
    #hero h1{ font-size:64px; font-weight:700; color:var(--brand-gold) !important; margin-bottom:20px; font-family:"Playfair Display",serif; }
    #hero h1 span{ color:#fff; }
    #hero h2{ font-size:26px; color:#fff !important; font-weight:300; margin-bottom:40px; }
    #hero .btn-get-started{
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      color:#fff; padding:14px 40px; border-radius:50px; font-weight:700; border:none;
      transition: all 0.3s ease;
    }
    #hero .btn-get-started:hover{ background:var(--brand-purple); transform:translateY(-3px); }

    section{ padding:80px 0; overflow:hidden; }
    .section-title{ text-align:center; padding-bottom:50px; }
    .section-title h2{ font-size:14px; font-weight:800; padding:10px 25px; background:rgba(156,39,176,.18); border-radius:50px; display:inline-block; }
    .section-title h3{ font-size:40px; font-weight:800; margin:20px 0 0; }
    .section-title p{ font-size:16px; margin:20px auto 0; max-width:700px; }

    .products{ background:linear-gradient(135deg, rgba(255,255,255,.85), rgba(156,39,176,.18)); }
    .products .product-item{ margin-bottom:30px; transition:transform .3s ease, box-shadow .3s ease; position:relative; }
    .products .product-item:hover{ transform:translateY(-8px) rotateY(5deg); box-shadow:0 12px 28px rgba(156,39,176,.2); }
    .products .product-item img{ width:100%; height:320px; object-fit:cover; border-radius:15px; }
    .products .product-info{
      padding:20px; text-align:center; background:rgba(255,255,255,.90); backdrop-filter:blur(15px);
      border-radius:15px; box-shadow:0 6px 15px rgba(156,39,176,.12); margin-top:-12px; position:relative; z-index:2;
    }
    .products .product-info h4{ font-size:20px; font-weight:800; margin-bottom:8px; color:var(--brand-pink-dark); }
    .products .product-info .price{ font-size:18px; font-weight:800; color:var(--brand-purple); margin-bottom:10px; }
    .products .product-info .original-price{ font-size:14px; color:#888; text-decoration:line-through; margin-left:10px; }
    .products .product-info .btn{
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      color:#fff; padding:12px 24px; border-radius:50px; font-weight:700; border:none;
      transition: all 0.3s ease;
    }
    .products .product-info .btn:hover{ background:var(--brand-purple); transform:translateY(-3px); }
    .sale-badge, .promo-badge, .new-badge{
      position:absolute; top:12px; left:12px; z-index:3;
      padding:6px 12px; border-radius:15px; font-size:12px; font-weight:700; color:#fff;
    }
    .sale-badge{ background:#ff4444; }
    .promo-badge{ background:var(--brand-gold); color:#000; }
    .new-badge{ background:var(--brand-purple); }

    .category-filter{
      text-align: center;
      margin-bottom: 40px;
    }
    .filter-btn{
      background: transparent;
      border: 2px solid var(--brand-accent);
      color: var(--brand-accent);
      padding: 8px 20px;
      margin: 5px;
      border-radius: 25px;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .filter-btn:hover, .filter-btn.active{
      background: var(--brand-accent);
      color: white;
      transform: translateY(-2px);
    }

    footer{
      background:rgba(255,255,255,.85);
      backdrop-filter:blur(20px);
      color:var(--brand-pink-dark);
      text-align:center; padding:40px 0; font-size:14px;
      border-top:1px solid rgba(156,39,176,.1);
    }
    footer a{ color:var(--brand-pink-dark); margin:0 10px; font-size:24px; }
    footer a:hover{ color:var(--brand-purple); }
    footer .social-links{ margin:20px 0; }

    .modal-content{
      background:rgba(255,255,255,.90); backdrop-filter:blur(15px);
      border:2px solid rgba(255,255,255,.4); border-radius:15px;
      color:var(--brand-pink-dark);
    }
    .modal-header{
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      border-bottom:none;
      border-radius:15px 15px 0 0;
    }
    .modal-title{ color:var(--brand-gold) !important; }
    .modal-body .form-control{
      border-radius:10px; padding:12px 16px; font-size:14px; margin-bottom:20px; color:var(--brand-pink-dark);
      border:1px solid rgba(156,39,176,.3); background:rgba(255,255,255,.6); backdrop-filter:blur(8px);
    }
    .modal-body .btn{
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      color:#fff; padding:12px; border-radius:50px; font-weight:700; border:none; width:100%;
      transition: all 0.3s ease;
    }
    .modal-body .btn:hover{ background:var(--brand-purple); transform:translateY(-3px); }

    .custom-notification{
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      color:#fff; border-radius:10px; padding:16px 22px; min-width:280px;
      box-shadow:0 6px 15px rgba(156,39,176,.2);
    }

    .back-to-top{
      position:fixed; right:20px; bottom:20px; z-index:996;
      background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));
      width:50px; height:50px; border-radius:50%; display:flex; align-items:center; justify-content:center;
      transition:all .4s; text-decoration:none; visibility:hidden; opacity:0;
    }
    .back-to-top i{ font-size:24px; color:#fff; }
    .back-to-top:hover{ background:var(--brand-purple); transform:translateY(-5px) scale(1.1); }
    .back-to-top.active{ visibility:visible; opacity:1; }

    #preloader{ position:fixed; inset:0; z-index:9999; background:linear-gradient(135deg,#fce4ec,#f3e5f5); }
    #preloader:before{
      content:""; position:fixed; top:calc(50% - 35px); left:calc(50% - 35px);
      border:6px solid var(--brand-purple); border-top-color:var(--brand-gold);
      border-radius:50%; width:70px; height:70px; animation:spin 1s linear infinite;
    }
    @keyframes spin{ to{ transform:rotate(360deg); } }

    .floating-hearts{
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    .heart{
      position: absolute;
      color: var(--brand-rose);
      font-size: 20px;
      animation: floatUp 4s infinite linear;
      opacity: 0.7;
    }
    @keyframes floatUp{
      0%{ transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10%{ opacity: 0.7; }
      90%{ opacity: 0.7; }
      100%{ transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    @media (max-width:992px){
      .search-container{ max-width:200px; }
      .header-actions{ gap:10px; }
    }
    @media (max-width:768px){
      #hero{ height:100vh; }
      #hero h1{ font-size:40px; line-height:48px; }
      #hero h2{ font-size:20px; line-height:28px; }
      .navbar-brand{ font-size: 1.5rem; }
      .cart-icon{ font-size:24px; padding:12px; }
      .header-icon{ font-size:20px; padding:12px; }
      .cart-badge{ top:-6px; right:-8px; padding:2px 6px; font-size:10px; }
      .search-container{ max-width:150px; }
      .products .product-item:hover{ transform:translateY(-5px) rotateY(0deg); }
    }
  </style>
</head>
<body>
  <div id="preloader"></div>

  <header id="header">
    <div class="header-container">
      <a class="navbar-brand" href="index.html#hero">
        <img src="favicon.png" alt="Spelete Logo">
      </a>
      <div class="header-actions">
        <a href="index.html#hero" title="Home"><i class="bi bi-house header-icon"></i></a>
        <a href="#" onclick="history.back()" title="Back"><i class="bi bi-arrow-left header-icon"></i></a>
        <div class="search-container">
          <input type="text" id="searchbar" class="search-control" placeholder="Search kids' collection...">
          <div id="search-results" class="search-results" style="display:none;"></div>
        </div>
        <a class="position-relative cart-icon-container" href="#" onclick="viewCart()">
          <i class="bi bi-cart cart-icon"></i>
          <span id="cart-count" class="cart-badge">0</span>
        </a>
      </div>
    </div>
  </header>

  <section id="hero">
    <div class="container">
      <div class="floating-hearts">
        <div class="heart" style="left: 10%; animation-delay: 0s;">â™¥</div>
        <div class="heart" style="left: 20%; animation-delay: 1s;">â™¥</div>
        <div class="heart" style="left: 30%; animation-delay: 2s;">â™¥</div>
        <div class="heart" style="left: 40%; animation-delay: 3s;">â™¥</div>
        <div class="heart" style="left: 50%; animation-delay: 0.5s;">â™¥</div>
        <div class="heart" style="left: 60%; animation-delay: 1.5s;">â™¥</div>
        <div class="heart" style="left: 70%; animation-delay: 2.5s;">â™¥</div>
        <div class="heart" style="left: 80%; animation-delay: 3.5s;">â™¥</div>
        <div class="heart" style="left: 90%; animation-delay: 0.8s;">â™¥</div>
      </div>
      <h1>Women's <span>Collection</span></h1>
      <h2>Elegant and chic fashion for women</h2>
      <a href="#products" class="btn-get-started">Shop Women's Now</a>
    </div>
  </section>

  <section id="products" class="products">
    <div class="container">
      <div class="section-title">
        <h2>Women's</h2>
        <h3 class="gradient-text">Elegant <span>Collection</span></h3>
        <p class="gradient-text-small">Discover our stunning range of women's fashion.</p>
      </div>

      <div class="category-filter">
        <button class="filter-btn active" onclick="filterProducts('all')">All</button>
        <button class="filter-btn" onclick="filterProducts('dresses')">Dresses</button>
        <button class="filter-btn" onclick="filterProducts('tops')">Tops</button>
        <button class="filter-btn" onclick="filterProducts('accessories')">Accessories</button>
      </div>

      <div class="row portfolio-container" id="products-container">
        <div class="col-lg-4 col-md-6" data-category="dresses">
          <div class="product-item">
            <span class="sale-badge">Sale</span>
            <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=400&h=320&fit=crop&crop=center" alt="Elegant Dress">
            <div class="product-info">
              <h4>Elegant Evening Dress</h4>
              <p class="price">R299.99 <span class="original-price">R399.99</span></p>
              <button class="btn" onclick="addToCart('dress1','Elegant Evening Dress',299.99)">Add to Cart</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-category="tops">
          <div class="product-item">
            <span class="new-badge">New</span>
            <img src="https://images.unsplash.com/photo-1564257577-1a5350d7bb74?w=400&h=320&fit=crop&crop=center" alt="Chic Blouse">
            <div class="product-info">
              <h4>Chic Silk Blouse</h4>
              <p class="price">R189.99</p>
              <button class="btn" onclick="addToCart('blouse1','Chic Silk Blouse',189.99)">Add to Cart</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-category="dresses">
          <div class="product-item">
            <span class="promo-badge">Free Shipping</span>
            <img src="https://images.unsplash.com/photo-1566479179817-c1e57c8dd6c2?w=400&h=320&fit=crop&crop=center" alt="Summer Dress">
            <div class="product-info">
              <h4>Floral Summer Dress</h4>
              <p class="price">R249.99</p>
              <button class="btn" onclick="addToCart('dress2','Floral Summer Dress',249.99)">Add to Cart</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-category="accessories">
          <div class="product-item">
            <span class="sale-badge">Sale</span>
            <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=320&fit=crop&crop=center" alt="Designer Handbag">
            <div class="product-info">
              <h4>Designer Handbag</h4>
              <p class="price">R149.99 <span class="original-price">R199.99</span></p>
              <button class="btn" onclick="addToCart('handbag1','Designer Handbag',149.99)">Add to Cart</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-category="tops">
          <div class="product-item">
            <span class="new-badge">New</span>
            <img src="https://images.unsplash.com/photo-1581044777550-4cfa60707c03?w=400&h=320&fit=crop&crop=center" alt="Cozy Sweater">
            <div class="product-info">
              <h4>Cozy Knit Sweater</h4>
              <p class="price">R219.99</p>
              <button class="btn" onclick="addToCart('sweater1','Cozy Knit Sweater',219.99)">Add to Cart</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-category="accessories">
          <div class="product-item">
            <span class="promo-badge">Buy 2 Get 1 Free</span>
            <img src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400&h=320&fit=crop&crop=center" alt="Fashion Jewelry">
            <div class="product-info">
              <h4>Statement Jewelry Set</h4>
              <p class="price">R89.99</p>
              <button class="btn" onclick="addToCart('jewelry1','Statement Jewelry Set',89.99)">Add to Cart</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer id="footer">
    <div class="container">
      <div class="copyright gradient-text-small">
        Â© Copyright <strong><span>Spelete</span></strong>. All Rights Reserved
      </div>
      <div class="social-links">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="pinterest"><i class="bi bi-pinterest"></i></a>
      </div>
      <div class="credits gradient-text-small">
        Designed by <a href="https://malulekens.github.io/Newkind-Maluleke/">brivanew.co.za</a>
      </div>
    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Using in-memory storage instead of localStorage
    let cart = [];
    let isLoading = true;
    let currentFilter = 'all';
    let products = [
      { id:'dress1',name:'Elegant Evening Dress',price:299.99,originalPrice:399.99,category:'dresses',image:'dress1.jpg',isSale:true },
      { id:'blouse1',name:'Chic Silk Blouse',price:189.99,category:'tops',image:'blouse1.jpg',isNew:true },
      { id:'dress2',name:'Floral Summer Dress',price:249.99,category:'dresses',image:'dress2.jpg',isPromo:'Free Shipping' },
      { id:'handbag1',name:'Designer Handbag',price:149.99,originalPrice:199.99,category:'accessories',image:'handbag1.jpg',isSale:true },
      { id:'sweater1',name:'Cozy Knit Sweater',price:219.99,category:'tops',image:'sweater1.jpg',isNew:true },
      { id:'jewelry1',name:'Statement Jewelry Set',price:89.99,category:'accessories',image:'jewelry1.jpg',isPromo:'Buy 2 Get 1 Free' },
    ];

    document.addEventListener('DOMContentLoaded', function(){
      hidePreloader();
      initializeEventListeners();
      updateCartCount();
      createFloatingHearts();
    });

    function hidePreloader(){
      setTimeout(()=>{
        const preloader=document.getElementById('preloader');
        if(preloader){
          preloader.style.opacity='0';
          setTimeout(()=>{ preloader.style.display='none'; isLoading=false; },400);
        }
      },1200);
    }

    function createFloatingHearts(){
      setInterval(() => {
        if(!isLoading && Math.random() > 0.7){
          const heart = document.createElement('div');
          heart.className = 'heart';
          heart.innerHTML = 'â™¥';
          heart.style.left = Math.random() * 100 + '%';
          heart.style.animationDelay = '0s';
          heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
          document.querySelector('.floating-hearts').appendChild(heart);
          
          setTimeout(() => heart.remove(), 4000);
        }
      }, 2000);
    }

    function initializeEventListeners(){
      const searchbar=document.getElementById('searchbar');
      if(searchbar){ 
        searchbar.addEventListener('input', handleSearch);
        // Hide search results when clicking outside
        document.addEventListener('click', function(e) {
          if (!e.target.closest('.search-container')) {
            document.getElementById('search-results').style.display = 'none';
          }
        });
      }

      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click',function(e){
          const target=document.querySelector(this.getAttribute('href'));
          if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth'}); }
        });
      });

      const backToTop=document.querySelector('.back-to-top');
      window.addEventListener('scroll', ()=>{
        if(window.scrollY>100){ backToTop.classList.add('active'); }
        else{ backToTop.classList.remove('active'); }
      });

      // Back to top click handler
      backToTop.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
      });
    }

    function handleSearch(){
      const q=document.getElementById('searchbar').value.toLowerCase().trim();
      const box=document.getElementById('search-results');
      if(q.length<2){ box.style.display='none'; return; }
      const matches=products.filter(p=> p.name.toLowerCase().includes(q)||p.category.toLowerCase().includes(q));
      box.innerHTML = matches.length
        ? matches.map(p=>`<div class="result-item" onclick="scrollToProduct('${p.id}')"><strong>${p.name}</strong> - R${p.price}</div>`).join('')
        : '<div class="result-item text-muted">No products found</div>';
      box.style.display='block';
    }

    function scrollToProduct(productId){
      document.getElementById('search-results').style.display='none';
      document.getElementById('searchbar').value='';
      document.getElementById('products').scrollIntoView({behavior:'smooth'});
      setTimeout(()=>{
        const card=document.querySelector(`[onclick*="${productId}"]`)?.closest('.product-item');
        if(card){
          card.style.border='3px solid var(--brand-gold)';
          card.style.borderRadius='20px';
          setTimeout(()=> {
            card.style.border='none';
            card.style.borderRadius='15px';
          }, 2500);
        }
      },600);
    }

    function filterProducts(category){
      currentFilter = category;
      const filterBtns = document.querySelectorAll('.filter-btn');
      const productItems = document.querySelectorAll('.col-lg-4.col-md-6');
      
      // Update active filter button
      filterBtns.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      // Show/hide products with animation
      productItems.forEach(item => {
        const itemCategory = item.getAttribute('data-category');
        if(category === 'all' || itemCategory === category){
          item.style.display = 'block';
          item.style.opacity = '0';
          item.style.transform = 'translateY(30px)';
          setTimeout(() => {
            item.style.opacity = '1';
            item.style.transform = 'translateY(0)';
          }, 100);
        } else {
          item.style.opacity = '0';
          item.style.transform = 'translateY(-30px)';
          setTimeout(() => {
            item.style.display = 'none';
          }, 300);
        }
      });
    }

    function addToCart(id,name,price){
      const existing=cart.find(i=>i.id===id);
      if(existing){ existing.quantity+=1; }
      else{ cart.push({id,name,price,quantity:1}); }
      updateCartCount(); 
      showNotification(`${name} added to cart! ðŸ’–`);
    }

    function updateCartCount(){
      const cartCount=document.getElementById('cart-count');
      const totalItems = cart.reduce((s,i)=>s+i.quantity,0);
      cartCount.textContent = totalItems;
      cartCount.style.display = totalItems > 0 ? 'block' : 'none';
    }

    function viewCart(){
      if(cart.length===0){ showNotification('Your cart is empty! Start shopping for beautiful items! ðŸ›ï¸', 'info'); return; }
      const modal=createCartModal(); 
      document.body.appendChild(modal);
      const bsModal=new bootstrap.Modal(modal); 
      bsModal.show();
      modal.addEventListener('hidden.bs.modal', ()=> modal.remove());
    }

    function createCartModal(){
      const total=cart.reduce((s,i)=>s+(i.price*i.quantity),0);
      const modal=document.createElement('div');
      modal.className='modal fade';
      modal.innerHTML=`
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-white">ðŸ’– Shopping Bag (${cart.reduce((s,i)=>s+i.quantity,0)} items)</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              ${cart.map(item=>`
                <div class="d-flex justify-content-between align-items-center border-bottom py-3" id="cart-item-${item.id}" style="border-color: var(--brand-rose) !important;">
                  <div>
                    <h6 class="mb-1" style="color: var(--brand-pink-dark);">${item.name}</h6>
                    <small class="text-muted">R${item.price.toFixed(2)} each</small>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-sm" style="background:var(--brand-purple);color:#fff;border:none;" onclick="updateQuantity('${item.id}', ${item.quantity-1})" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
                    <span class="mx-2 fw-bold" style="color: var(--brand-pink-dark);">${item.quantity}</span>
                    <button class="btn btn-sm" style="background:var(--brand-purple);color:#fff;border:none;" onclick="updateQuantity('${item.id}', ${item.quantity+1})">+</button>
                    <button class="btn btn-sm btn-outline-danger ms-2" onclick="removeFromCart('${item.id}')" style="border-color: var(--brand-accent); color: var(--brand-accent);">Remove</button>
                  </div>
                  <div style="min-width: 90px; text-align:right;">
                    <strong style="color: var(--brand-purple);">R${(item.price*item.quantity).toFixed(2)}</strong>
                  </div>
                </div>`).join('')}
              <div class="d-flex justify-content-between align-items-center pt-4">
                <h4 style="color: var(--brand-pink-dark);">Total: <span style="color: var(--brand-purple);">R${total.toFixed(2)}</span></h4>
                <button class="btn btn-lg" style="background:linear-gradient(135deg,var(--brand-accent),var(--brand-pink-dark));color:#fff;border:none;padding:12px 30px;" onclick="checkout()">Proceed to Checkout ðŸ’³</button>
              </div>
            </div>
          </div>
        </div>`;
      return modal;
    }

    function updateQuantity(id,newQty){
      if(newQty<=0){ removeFromCart(id); return; }
      const item=cart.find(i=>i.id===id);
      if(item){ 
        item.quantity=newQty; 
        updateCartCount();
        const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
        if(m){ 
          m.hide(); 
          setTimeout(()=>viewCart(),300); 
        }
      }
    }

    function removeFromCart(id){
      const item = cart.find(i=>i.id===id);
      cart = cart.filter(i=>i.id!==id); 
      updateCartCount();
      const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
      if(m){ 
        m.hide(); 
        setTimeout(()=>{
          if(cart.length > 0) {
            viewCart();
          }
        },300); 
      }
      showNotification(`${item?.name || 'Item'} removed from cart ðŸ’”`);
    }

    function checkout(){
      if(cart.length === 0) {
        showNotification('Your cart is empty! ðŸ›ï¸', 'error');
        return;
      }
      const total = cart.reduce((s,i)=>s+(i.price*i.quantity),0);
      showNotification(`Thank you for your order! ðŸ’– Total: R${total.toFixed(2)}. Checkout feature coming soon!`, 'success');
      const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show')); 
      if(m) m.hide();
      // Clear cart after checkout
      setTimeout(() => {
        cart = [];
        updateCartCount();
      }, 1500);
    }

    function showNotification(message, type='success'){
      // Remove any existing notifications
      document.querySelectorAll('.custom-notification').forEach(n=>n.remove());
      
      const n=document.createElement('div');
      n.className='custom-notification position-fixed';
      n.style.cssText='top:20px;right:20px;z-index:9999;opacity:0;transform:translateX(100%);transition:all .3s';
      
      let iconClass = 'heart-fill';
      if(type === 'error') iconClass = 'exclamation-circle-fill';
      if(type === 'info') iconClass = 'info-circle-fill';
      
      n.innerHTML=`<div class="d-flex align-items-center">
        <i class="bi bi-${iconClass} me-2"></i>
        <span>${message}</span>
        <button class="btn-close btn-close-white ms-3" style="font-size:.8rem" onclick="this.closest('.custom-notification').remove()"></button>
      </div>`;
      
      document.body.appendChild(n);
      requestAnimationFrame(()=>{ 
        n.style.opacity='1'; 
        n.style.transform='translateX(0)'; 
      });
      
      setTimeout(()=>{ 
        if(n.parentNode) {
          n.style.opacity='0'; 
          n.style.transform='translateX(100%)'; 
          setTimeout(()=>n.remove(),300); 
        }
      }, 4500);
    }
  </script>
</body>
</html>