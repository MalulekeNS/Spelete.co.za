<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spelete - Kids Fashion</title>
  <meta name="description" content="Discover trendy kids' fashion at Spelete. Shop quality clothing for children.">
  <meta name="author" content="Sevenzile Maluleka">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Comic+Neue:wght@300;400;700&family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">

  <style>
    :root{
      --brand-green:#62BF04;
      --kids-orange:#ff6b35;
      --kids-blue:#4ecdc4;
      --kids-pink:#ff6b9d;
      --kids-yellow:#ffcc5c;
      --kids-light-green:#96ceb4;
      --kids-purple:#a29bfe;
      --kids-red:#fd79a8;
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:"Comic Neue",cursive;
      line-height:1.6;
      background:linear-gradient(45deg,#62BF04,#96ceb4,#4ecdc4,#ffcc5c);
      background-size:400% 400%;
      animation:gradientShift 8s ease infinite;
      color:#333;
      overflow-x:hidden;
    }

    @keyframes gradientShift{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    a{ text-decoration:none; color:#333; transition:all .3s ease; }

    .rainbow-text {
      background: linear-gradient(45deg, var(--brand-green), var(--kids-blue), var(--kids-yellow), var(--kids-orange), var(--kids-pink), var(--kids-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      animation: rainbowShift 3s ease infinite;
      background-size: 300% 300%;
    }

    @keyframes rainbowShift{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    .bouncy {
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }

    header{
      background:rgba(255,255,255,.95);
      backdrop-filter:blur(15px);
      padding:15px 0;
      position:sticky; top:0; z-index:1000;
      box-shadow:0 8px 32px rgba(255,107,53,.2);
      border-bottom:3px solid var(--kids-orange);
    }
   .header-container{
      display:flex; align-items:center; justify-content:space-between;
      padding:0 15px; max-width:1200px; margin:0 auto;
    }
    .navbar-brand img{
      max-height:60px;
      filter:opacity(1.9) brightness(.95) contrast(.92);
      mix-blend-mode:soft-light;
      transition:transform .3s ease, filter .3s ease;
    }
    .navbar-brand:hover{ 
      transform: rotate(5deg) scale(1.1); 
      color: var(--kids-orange) !important;
    }
    .header-actions{
      display:flex; align-items:center; gap:15px;
    }
    .header-icon{
      font-size: 28px;
      color: #fff;
      background: linear-gradient(135deg, var(--brand-green), var(--kids-blue));
      padding: 16px;
      border-radius: 50%;
      box-shadow: 0 8px 20px rgba(98,191,4,.4);
      transition: all 0.3s ease;
      position: relative;
      transform: scale(1);
      display: flex; align-items: center; justify-content: center;
      border: 3px solid #fff;
    }
    .header-icon:hover{
      transform: scale(1.2) rotate(15deg);
      box-shadow: 0 12px 25px rgba(98,191,4,.6);
      background: linear-gradient(135deg, var(--kids-orange), var(--kids-pink));
    }

    .cart-badge{
      position:absolute; top:-10px; right:-12px;
      background:var(--kids-yellow); color:#333; border:3px solid #fff;
      border-radius:50px; padding:5px 10px; font-size:14px; font-weight:800;
      line-height:1; box-shadow:0 4px 8px rgba(0,0,0,0.2);
      animation: wiggle 1s ease infinite;
    }
    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(5deg); }
      75% { transform: rotate(-5deg); }
    }

    .cart-icon{
      font-size: 32px;
      color: #fff;
      background: linear-gradient(135deg, var(--brand-green), var(--kids-blue));
      padding: 18px;
      border-radius: 50%;
      box-shadow: 0 8px 20px rgba(98,191,4,.4);
      transition: all 0.3s ease;
      position: relative;
      border: 3px solid #fff;
    }
    .cart-icon:hover{
      transform: scale(1.2) rotate(-15deg);
      box-shadow: 0 12px 25px rgba(98,191,4,.6);
      background: linear-gradient(135deg, var(--kids-orange), var(--kids-pink));
    }

    .search-container{ position:relative; max-width:350px; }
    .search-control{
      border:3px solid var(--brand-green);
      background:rgba(255,255,255,.9);
      backdrop-filter:blur(10px);
      color:#333;
      border-radius:30px; padding:12px 20px; font-size:16px;
      font-family:"Comic Neue",cursive;
      font-weight:600;
    }
    .search-control:focus{
      border-color:var(--brand-green);
      box-shadow:0 0 0 .3rem rgba(98,191,4,.3); outline:none;
      transform:scale(1.05);
    }
    .search-control::placeholder{
      color:#666;
      font-weight:400;
    }
    .search-results{
      position:absolute; top:100%; left:0; right:0; z-index:1000;
      background:rgba(255,255,255,.98); backdrop-filter:blur(15px);
      border:3px solid var(--kids-blue); border-radius:20px; max-height:250px; overflow:auto;
      margin-top:5px;
    }
    .result-item{ padding:15px; cursor:pointer; color:#333; font-weight:600; }
    .result-item:hover{ background:linear-gradient(135deg,rgba(98,191,4,.2),rgba(76,205,196,.2)); color:var(--brand-green); }

    #hero{
      width:100%; height:100vh;
      background: linear-gradient(135deg, var(--brand-green), var(--kids-blue));
      position:relative; display:flex; align-items:center; justify-content:center; text-align:center;
      overflow:hidden;
    }
    .floating-shapes{
      position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;
    }
    .shape{
      position:absolute;
      border-radius:50%;
      opacity:0.3;
      animation:float 6s ease-in-out infinite;
    }
    .shape1{ width:80px; height:80px; background:var(--brand-green); top:10%; left:10%; animation-delay:0s; }
    .shape2{ width:60px; height:60px; background:var(--kids-orange); top:20%; right:15%; animation-delay:1s; }
    .shape3{ width:100px; height:100px; background:var(--kids-yellow); bottom:20%; left:20%; animation-delay:2s; }
    .shape4{ width:70px; height:70px; background:var(--kids-purple); bottom:30%; right:10%; animation-delay:3s; }
    .shape5{ width:90px; height:90px; background:var(--kids-pink); top:50%; left:5%; animation-delay:4s; }
    .shape6{ width:50px; height:50px; background:var(--kids-blue); top:60%; right:5%; animation-delay:5s; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      33% { transform: translateY(-20px) rotate(120deg); }
      66% { transform: translateY(10px) rotate(240deg); }
    }

    #hero .container{ position:relative; z-index:2; padding:0 30px; }
    #hero h1{ 
      font-family:"Fredoka One",cursive; 
      font-size:80px; font-weight:400; 
      color:#fff !important; 
      margin-bottom:20px; 
      text-shadow:5px 5px 0px rgba(0,0,0,.2);
      transform:rotate(-2deg);
    }
    #hero h1 span{ color:var(--kids-yellow) !important; text-shadow:3px 3px 0px var(--kids-orange); }
    #hero h2{ 
      font-family:"Comic Neue",cursive;
      font-size:28px; color:#fff !important; font-weight:600; margin-bottom:40px; 
      text-shadow:2px 2px 0px rgba(0,0,0,.2);
    }
    #hero .btn-get-started{
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue));
      color:#fff; padding:18px 45px; border-radius:50px; 
      font-weight:800; border:none; font-size:20px;
      transition: all 0.3s ease;
      box-shadow:0 8px 20px rgba(98,191,4,.4);
      text-shadow:1px 1px 0px rgba(0,0,0,.2);
      font-family:"Comic Neue",cursive;
    }
    #hero .btn-get-started:hover{ 
      background:linear-gradient(135deg,var(--kids-orange),var(--kids-pink)); 
      transform:translateY(-5px) scale(1.05); 
      box-shadow:0 12px 25px rgba(255,107,53,.4);
    }

    section{ padding:80px 0; overflow:hidden; }
    .section-title{ text-align:center; padding-bottom:60px; }
    .section-title h2{ 
      font-family:"Fredoka One",cursive;
      font-size:18px; font-weight:400; 
      padding:15px 30px; 
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue)); 
      border-radius:50px; display:inline-block; 
      color:#fff;
      text-shadow:1px 1px 0px rgba(0,0,0,.2);
      transform:rotate(-2deg);
    }
    .section-title h3{ 
      font-family:"Fredoka One",cursive;
      font-size:50px; font-weight:400; margin:30px 0 0; 
      transform:rotate(1deg);
    }
    .section-title p{ 
      font-family:"Comic Neue",cursive;
      font-size:18px; margin:25px auto 0; max-width:800px; 
      font-weight:600;
    }

    .products{ 
      background:rgba(255,255,255,.9); 
      backdrop-filter:blur(15px);
      border-radius:30px;
      margin:20px;
      padding:40px 20px;
      box-shadow:0 20px 40px rgba(0,0,0,.1);
    }
    .products .product-item{ 
      margin-bottom:40px; 
      transition:transform .4s ease, box-shadow .4s ease; 
      position:relative; 
      cursor:pointer;
    }
    .products .product-item:hover{ 
      transform:translateY(-15px) rotate(2deg) scale(1.02); 
      box-shadow:0 20px 40px rgba(98,191,4,.3); 
    }
    .products .product-item img{ 
      width:100%; height:320px; object-fit:cover; 
      border-radius:25px; 
      border:5px solid #fff;
      box-shadow:0 10px 25px rgba(0,0,0,.15);
    }
    .products .product-info{
      padding:25px; text-align:center; 
      background:rgba(255,255,255,.95); backdrop-filter:blur(15px);
      border-radius:25px; 
      box-shadow:0 15px 30px rgba(0,0,0,.1); 
      margin-top:-20px; position:relative; z-index:2;
      border:3px solid var(--brand-green);
    }
    .products .product-info h4{ 
      font-family:"Fredoka One",cursive;
      font-size:24px; font-weight:400; margin-bottom:12px; 
      color:var(--brand-green);
      transform:rotate(-1deg);
    }
    .products .product-info .price{ 
      font-family:"Comic Neue",cursive;
      font-size:22px; font-weight:800; color:var(--kids-blue); margin-bottom:15px; 
    }
    .products .product-info .original-price{ 
      font-size:16px; color:#999; text-decoration:line-through; margin-left:10px; 
    }
    .products .product-info .btn{
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue));
      color:#fff; padding:15px 30px; border-radius:50px; 
      font-weight:800; border:none;
      transition: all 0.3s ease;
      font-family:"Comic Neue",cursive;
      font-size:16px;
      box-shadow:0 8px 20px rgba(98,191,4,.3);
    }
    .products .product-info .btn:hover{ 
      background:linear-gradient(135deg,var(--kids-orange),var(--kids-pink)); 
      transform:translateY(-3px) scale(1.05); 
      box-shadow:0 12px 25px rgba(255,107,53,.4);
    }
    .sale-badge, .promo-badge, .fun-badge{
      position:absolute; top:15px; left:15px; z-index:3;
      padding:8px 15px; border-radius:25px; font-size:14px; font-weight:800; color:#fff;
      font-family:"Comic Neue",cursive;
      transform:rotate(-10deg);
      box-shadow:0 5px 15px rgba(0,0,0,.2);
    }
    .sale-badge{ background:linear-gradient(135deg,#ff4757,#ff3742); }
    .promo-badge{ background:linear-gradient(135deg,var(--kids-yellow),var(--kids-orange)); color:#333; }
    .fun-badge{ background:linear-gradient(135deg,var(--kids-blue),var(--kids-purple)); }

    .size-filter, .age-filter{
      text-align: center;
      margin-bottom: 30px;
    }
    .filter-btn{
      background: linear-gradient(135deg,var(--brand-green),var(--kids-light-green));
      border: none;
      color: white;
      padding: 12px 25px;
      margin: 8px;
      border-radius: 30px;
      font-weight: 700;
      font-family:"Comic Neue",cursive;
      transition: all 0.3s ease;
      box-shadow:0 5px 15px rgba(98,191,4,.3);
    }
    .filter-btn:hover, .filter-btn.active{
      background: linear-gradient(135deg,var(--kids-orange),var(--kids-pink));
      transform: translateY(-3px) scale(1.05);
      box-shadow:0 8px 20px rgba(255,107,53,.4);
    }

    footer{
      background:rgba(255,255,255,.95);
      backdrop-filter:blur(20px);
      color:#333;
      text-align:center; padding:50px 0; font-size:16px;
      border-top:2px solid var(--kids-orange);
      font-family:"Comic Neue",cursive;
    }
    footer a{ color:#333; margin:0 15px; font-size:28px; transition:all .3s ease; }
    footer a:hover{ 
      color:var(--brand-green); 
      transform:scale(1.2) rotate(15deg);
    }
    footer .social-links{ margin:25px 0; }

    .modal-content{
      background:rgba(255,255,255,.98); backdrop-filter:blur(15px);
      border:5px solid var(--brand-green); border-radius:25px;
      color:#333;
      font-family:"Comic Neue",cursive;
    }
    .modal-header{
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue));
      border-bottom:none;
      border-radius:20px 20px 0 0;
    }
    .modal-title{ 
      color:#fff !important; 
      font-family:"Fredoka One",cursive;
      font-size:28px;
      text-shadow:2px 2px 0px rgba(0,0,0,.2);
    }
    .modal-body .btn{
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue));
      color:#fff; padding:15px; border-radius:50px; 
      font-weight:800; border:none; width:100%;
      transition: all 0.3s ease;
      font-family:"Comic Neue",cursive;
      font-size:18px;
    }
    .modal-body .btn:hover{ 
      background:linear-gradient(135deg,var(--kids-orange),var(--kids-pink)); 
      transform:translateY(-3px); 
    }

    .custom-notification{
      background:linear-gradient(135deg,var(--brand-green),var(--kids-blue));
      color:#fff; border-radius:20px; padding:20px 25px; min-width:300px;
      box-shadow:0 10px 25px rgba(98,191,4,.3);
      font-family:"Comic Neue",cursive;
      font-weight:600;
      border:3px solid #fff;
    }

    .back-to-top{
      position:fixed; right:25px; bottom:25px; z-index:996;
      background:linear-gradient(135deg,var(--kids-orange),var(--kids-pink));
      width:60px; height:60px; border-radius:50%; 
      display:flex; align-items:center; justify-content:center;
      transition:all .4s; text-decoration:none; visibility:hidden; opacity:0;
      border:4px solid #fff;
      box-shadow:0 10px 25px rgba(255,107,53,.4);
    }
    .back-to-top i{ font-size:28px; color:#fff; }
    .back-to-top:hover{ 
      background:linear-gradient(135deg,var(--kids-blue),var(--kids-purple)); 
      transform:translateY(-8px) scale(1.1) rotate(360deg); 
    }
    .back-to-top.active{ visibility:visible; opacity:1; }

    #preloader{ 
      position:fixed; inset:0; z-index:9999; 
      background:linear-gradient(45deg,#74b9ff,#00b894,#fdcb6e,#e17055);
      background-size:400% 400%;
      animation:gradientShift 2s ease infinite;
    }
    #preloader:before{
      content:""; position:fixed; top:calc(50% - 40px); left:calc(50% - 40px);
      border:8px solid transparent; 
      border-top:8px solid var(--kids-orange);
      border-right:8px solid var(--kids-pink);
      border-bottom:8px solid var(--kids-blue);
      border-left:8px solid var(--kids-yellow);
      border-radius:50%; width:80px; height:80px; 
      animation:rainbow-spin 1s linear infinite;
    }
    @keyframes rainbow-spin{ 
      to{ transform:rotate(360deg); } 
    }

    @media (max-width:992px){
      .search-container{ max-width:250px; }
      .header-actions{ gap:10px; }
    }
    @media (max-width:768px){
      #hero{ height:100vh; }
      #hero h1{ font-size:50px; line-height:55px; }
      #hero h2{ font-size:22px; line-height:28px; }
      .navbar-brand{ font-size: 2rem; }
      .cart-icon{ font-size:28px; padding:15px; }
      .header-icon{ font-size:24px; padding:14px; }
      .cart-badge{ top:-8px; right:-10px; padding:4px 8px; font-size:12px; }
      .search-container{ max-width:180px; }
      .products .product-item:hover{ transform:translateY(-8px) rotate(1deg) scale(1.01); }
      .shape{ display:none; }
    }
  </style>
</head>
<body>
  <div id="preloader"></div>

  <header id="header">
    <div class="header-container">
      <a class="navbar-brand" href="index.html#hero">
        <img src="favicon.png" alt="Spelete Logo">
      </a>
      <div class="header-actions">
        <a href="index.html#hero" title="Home"><i class="bi bi-house header-icon"></i></a>
        <a href="#" onclick="history.back()" title="Back"><i class="bi bi-arrow-left header-icon"></i></a>
        <div class="search-container">
          <input type="text" id="searchbar" class="search-control" placeholder="Search kids' collection...">
          <div id="search-results" class="search-results" style="display:none;"></div>
        </div>
        <a class="position-relative cart-icon-container" href="#" onclick="viewCart()">
          <i class="bi bi-cart cart-icon"></i>
          <span id="cart-count" class="cart-badge">0</span>
        </a>
      </div>
    </div>
  </header>

  <section id="hero">
    <div class="floating-shapes">
      <div class="shape shape1"></div>
      <div class="shape shape2"></div>
      <div class="shape shape3"></div>
      <div class="shape shape4"></div>
      <div class="shape shape5"></div>
      <div class="shape shape6"></div>
    </div>
    <div class="container">
      <h1 class="bouncy">Kids <span>Collection</span></h1>
      <h2>Fun and trendy fashion for your little stars! ⭐</h2>
      <a href="#products" class="btn-get-started bouncy">Shop Kids Now! 🛍️</a>
    </div>
  </section>

  <section id="products" class="products">
    <div class="container">
      <div class="section-title">
        <h2>Kids Zone! 🎉</h2>
        <h3 class="rainbow-text">Super Cool <span>Collection</span></h3>
        <p class="rainbow-text">Discover our amazing and colorful clothing for awesome kids!</p>
      </div>

      <div class="age-filter">
        <button class="filter-btn active" onclick="filterByAge('all')">All Ages 👶👧👦</button>
        <button class="filter-btn" onclick="filterByAge('baby')">Baby (0-2) 👶</button>
        <button class="filter-btn" onclick="filterByAge('toddler')">Toddler (3-5) 🧸</button>
        <button class="filter-btn" onclick="filterByAge('kids')">Kids (6-12) 🎮</button>
      </div>

      <div class="row portfolio-container" id="products-container">
        <div class="col-lg-4 col-md-6" data-age="kids">
          <div class="product-item">
            <span class="sale-badge">Super Sale! 🎯</span>
            <img src="https://images.unsplash.com/photo-1519238263530-99bdd11df2ea?w=400&h=320&fit=crop&crop=center" alt="Colorful Kids T-Shirt">
            <div class="product-info">
              <h4>Rainbow Adventure Tee</h4>
              <p class="price">R79.99 <span class="original-price">R99.99</span></p>
              <button class="btn" onclick="addToCart('kids1','Rainbow Adventure Tee',79.99)">Add to Cart! 🛒</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-age="toddler">
          <div class="product-item">
            <span class="fun-badge">Fun Time! 🎪</span>
            <img src="https://images.unsplash.com/photo-1621452773781-0f992fd1f5cb?w=400&h=320&fit=crop&crop=center" alt="Pretty Kids Dress">
            <div class="product-info">
              <h4>Princess Sparkle Dress</h4>
              <p class="price">R149.99</p>
              <button class="btn" onclick="addToCart('kidsdress1','Princess Sparkle Dress',149.99)">Add to Cart! 👑</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-age="kids">
          <div class="product-item">
            <span class="promo-badge">Cozy Warm! 🔥</span>
            <img src="https://images.unsplash.com/photo-1503919436603-b88c1fe65a45?w=400&h=320&fit=crop&crop=center" alt="Cozy Kids Hoodie">
            <div class="product-info">
              <h4>Superhero Power Hoodie</h4>
              <p class="price">R199.99</p>
              <button class="btn" onclick="addToCart('kidshoodie1','Superhero Power Hoodie',199.99)">Add to Cart! 🦸</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-age="kids">
          <div class="product-item">
            <span class="sale-badge">Amazing Deal! 💫</span>
            <img src="https://images.unsplash.com/photo-1604467794349-0b74285de7e7?w=400&h=320&fit=crop&crop=center" alt="Durable Kids Jeans">
            <div class="product-info">
              <h4>Adventure Explorer Jeans</h4>
              <p class="price">R129.99 <span class="original-price">R159.99</span></p>
              <button class="btn" onclick="addToCart('kidsjeans1','Adventure Explorer Jeans',129.99)">Add to Cart! 🏕️</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-age="baby">
          <div class="product-item">
            <span class="fun-badge">So Cute! 🥰</span>
            <img src="https://images.unsplash.com/photo-1596870230751-ebdfce98ec42?w=400&h=320&fit=crop&crop=center" alt="Baby Outfit">
            <div class="product-info">
              <h4>Little Star Baby Set</h4>
              <p class="price">R89.99</p>
              <button class="btn" onclick="addToCart('babyoutfit1','Little Star Baby Set',89.99)">Add to Cart! ⭐</button>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6" data-age="toddler">
          <div class="product-item">
            <span class="promo-badge">Free Shipping! 🚚</span>
            <img src="https://images.unsplash.com/photo-1503919436603-b88c1fe65a45?w=400&h=320&fit=crop&crop=center" alt="Warm Kids Jacket">
            <div class="product-info">
              <h4>Magic Rainbow Jacket</h4>
              <p class="price">R249.99</p>
              <button class="btn" onclick="addToCart('kidsjacket1','Magic Rainbow Jacket',249.99)">Add to Cart! 🌈</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer id="footer">
    <div class="container">
      <div class="copyright rainbow-text">
        © Copyright <strong><span>Spelete</span></strong>. All Rights Reserved
      </div>
      <div class="social-links">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="youtube"><i class="bi bi-youtube"></i></a>
      </div>
      
    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Using in-memory storage instead of localStorage
    let cart = [];
    let isLoading = true;
    let currentAgeFilter = 'all';
    let products = [
      { id:'kids1',name:'Rainbow Adventure Tee',price:79.99,originalPrice:99.99,category:'kids',age:'kids',image:'kids1.jpg',isSale:true },
      { id:'kidsdress1',name:'Princess Sparkle Dress',price:149.99,category:'kids',age:'toddler',image:'kidsdress1.jpg',isFun:true },
      { id:'kidshoodie1',name:'Superhero Power Hoodie',price:199.99,category:'kids',age:'kids',image:'kidshoodie1.jpg',isPromo:'Cozy Warm' },
      { id:'kidsjeans1',name:'Adventure Explorer Jeans',price:129.99,originalPrice:159.99,category:'kids',age:'kids',image:'kidsjeans1.jpg',isSale:true },
      { id:'babyoutfit1',name:'Little Star Baby Set',price:89.99,category:'kids',age:'baby',image:'babyoutfit1.jpg',isFun:true },
      { id:'kidsjacket1',name:'Magic Rainbow Jacket',price:249.99,category:'kids',age:'toddler',image:'kidsjacket1.jpg',isPromo:'Free Shipping' },
    ];

    document.addEventListener('DOMContentLoaded', function(){
      hidePreloader();
      initializeEventListeners();
      updateCartCount();
      createFloatingElements();
    });

    function hidePreloader(){
      setTimeout(()=>{
        const preloader=document.getElementById('preloader');
        if(preloader){
          preloader.style.opacity='0';
          setTimeout(()=>{ preloader.style.display='none'; isLoading=false; },500);
        }
      },1500);
    }

    function createFloatingElements(){
      const emojis = ['🎈', '🎉', '⭐', '🌈', '🦄', '🎪', '🎁', '🎯', '🚀', '🎨'];
      setInterval(() => {
        if(!isLoading && Math.random() > 0.8){
          const emoji = document.createElement('div');
          emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
          emoji.style.position = 'fixed';
          emoji.style.left = Math.random() * window.innerWidth + 'px';
          emoji.style.bottom = '-50px';
          emoji.style.fontSize = (Math.random() * 20 + 20) + 'px';
          emoji.style.zIndex = '1000';
          emoji.style.pointerEvents = 'none';
          emoji.style.animation = 'floatUp 4s linear forwards';
          document.body.appendChild(emoji);
          
          setTimeout(() => emoji.remove(), 4000);
        }
      }, 3000);
    }

    function initializeEventListeners(){
      const searchbar=document.getElementById('searchbar');
      if(searchbar){ 
        searchbar.addEventListener('input', handleSearch);
        // Hide search results when clicking outside
        document.addEventListener('click', function(e) {
          if (!e.target.closest('.search-container')) {
            document.getElementById('search-results').style.display = 'none';
          }
        });
      }

      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click',function(e){
          const target=document.querySelector(this.getAttribute('href'));
          if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth'}); }
        });
      });

      const backToTop=document.querySelector('.back-to-top');
      window.addEventListener('scroll', ()=>{
        if(window.scrollY>100){ backToTop.classList.add('active'); }
        else{ backToTop.classList.remove('active'); }
      });

      // Back to top click handler
      backToTop.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
      });
    }

    function handleSearch(){
      const q=document.getElementById('searchbar').value.toLowerCase().trim();
      const box=document.getElementById('search-results');
      if(q.length<2){ box.style.display='none'; return; }
      const matches=products.filter(p=> p.name.toLowerCase().includes(q)||p.category.toLowerCase().includes(q)||p.age.toLowerCase().includes(q));
      box.innerHTML = matches.length
        ? matches.map(p=>`<div class="result-item" onclick="scrollToProduct('${p.id}')"><strong>${p.name}</strong> - R${p.price} 🎯</div>`).join('')
        : '<div class="result-item text-muted">No fun stuff found! Try again! 😊</div>';
      box.style.display='block';
    }

    function scrollToProduct(productId){
      document.getElementById('search-results').style.display='none';
      document.getElementById('searchbar').value='';
      document.getElementById('products').scrollIntoView({behavior:'smooth'});
      setTimeout(()=>{
        const card=document.querySelector(`[onclick*="${productId}"]`)?.closest('.product-item');
        if(card){
          card.style.border='5px solid var(--kids-yellow)';
          card.style.borderRadius='30px';
          card.style.boxShadow='0 0 30px rgba(255,204,92,.8)';
          setTimeout(()=> {
            card.style.border='none';
            card.style.borderRadius='25px';
            card.style.boxShadow='0 15px 30px rgba(0,0,0,.1)';
          }, 3000);
        }
      },800);
    }

    function filterByAge(age){
      currentAgeFilter = age;
      const filterBtns = document.querySelectorAll('.filter-btn');
      const productItems = document.querySelectorAll('.col-lg-4.col-md-6');
      
      // Update active filter button
      filterBtns.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      // Show/hide products with fun animation
      productItems.forEach(item => {
        const itemAge = item.getAttribute('data-age');
        if(age === 'all' || itemAge === age){
          item.style.display = 'block';
          item.style.opacity = '0';
          item.style.transform = 'translateY(50px) scale(0.8)';
          setTimeout(() => {
            item.style.transition = 'all 0.6s ease';
            item.style.opacity = '1';
            item.style.transform = 'translateY(0) scale(1)';
          }, Math.random() * 300);
        } else {
          item.style.transition = 'all 0.3s ease';
          item.style.opacity = '0';
          item.style.transform = 'translateY(-30px) scale(0.8)';
          setTimeout(() => {
            item.style.display = 'none';
          }, 300);
        }
      });
    }

    function addToCart(id,name,price){
      const existing=cart.find(i=>i.id===id);
      if(existing){ existing.quantity+=1; }
      else{ cart.push({id,name,price,quantity:1}); }
      updateCartCount(); 
      showNotification(`${name} added to cart! 🎉✨`);
    }

    function updateCartCount(){
      const cartCount=document.getElementById('cart-count');
      const totalItems = cart.reduce((s,i)=>s+i.quantity,0);
      cartCount.textContent = totalItems;
      cartCount.style.display = totalItems > 0 ? 'block' : 'none';
    }

    function viewCart(){
      if(cart.length===0){ showNotification('Your cart is empty! Let\'s go shopping for awesome stuff! 🛍️🎈', 'info'); return; }
      const modal=createCartModal(); 
      document.body.appendChild(modal);
      const bsModal=new bootstrap.Modal(modal); 
      bsModal.show();
      modal.addEventListener('hidden.bs.modal', ()=> modal.remove());
    }

    function createCartModal(){
      const total=cart.reduce((s,i)=>s+(i.price*i.quantity),0);
      const modal=document.createElement('div');
      modal.className='modal fade';
      modal.innerHTML=`
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-white">🛍️ Shopping Bag (${cart.reduce((s,i)=>s+i.quantity,0)} awesome items!)</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              ${cart.map(item=>`
                <div class="d-flex justify-content-between align-items-center border-bottom py-3" id="cart-item-${item.id}" style="border-color: var(--kids-orange) !important; border-width: 2px !important;">
                  <div>
                    <h6 class="mb-1" style="color: var(--kids-orange); font-family: 'Fredoka One', cursive;">${item.name}</h6>
                    <small class="text-muted" style="font-weight: 600;">R${item.price.toFixed(2)} each</small>
                  </div>
                  <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-sm" style="background:var(--kids-pink);color:#fff;border:none;border-radius:20px;font-weight:800;" onclick="updateQuantity('${item.id}', ${item.quantity-1})" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
                    <span class="mx-2 fw-bold" style="color: var(--kids-blue); font-size: 18px; font-family: 'Comic Neue', cursive;">${item.quantity}</span>
                    <button class="btn btn-sm" style="background:var(--kids-blue);color:#fff;border:none;border-radius:20px;font-weight:800;" onclick="updateQuantity('${item.id}', ${item.quantity+1})">+</button>
                    <button class="btn btn-sm ms-2" style="background:var(--kids-red);color:#fff;border:none;border-radius:20px;font-weight:600;" onclick="removeFromCart('${item.id}')">Remove 🗑️</button>
                  </div>
                  <div style="min-width: 100px; text-align:right;">
                    <strong style="color: var(--kids-green); font-size: 20px; font-family: 'Comic Neue', cursive;">R${(item.price*item.quantity).toFixed(2)}</strong>
                  </div>
                </div>`).join('')}
              <div class="d-flex justify-content-between align-items-center pt-4">
                <h3 style="color: var(--kids-orange); font-family: 'Fredoka One', cursive;">Total: <span style="color: var(--kids-green);">R${total.toFixed(2)}</span></h3>
                <button class="btn btn-lg" style="background:linear-gradient(135deg,var(--kids-orange),var(--kids-pink));color:#fff;border:none;padding:15px 35px;font-size:18px;" onclick="checkout()">Checkout Now! 💳✨</button>
              </div>
            </div>
          </div>
        </div>`;
      return modal;
    }

    function updateQuantity(id,newQty){
      if(newQty<=0){ removeFromCart(id); return; }
      const item=cart.find(i=>i.id===id);
      if(item){ 
        item.quantity=newQty; 
        updateCartCount();
        const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
        if(m){ 
          m.hide(); 
          setTimeout(()=>viewCart(),300); 
        }
      }
    }

    function removeFromCart(id){
      const item = cart.find(i=>i.id===id);
      cart = cart.filter(i=>i.id!==id); 
      updateCartCount();
      const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
      if(m){ 
        m.hide(); 
        setTimeout(()=>{
          if(cart.length > 0) {
            viewCart();
          }
        },300); 
      }
      showNotification(`${item?.name || 'Item'} removed from cart 😢 But don't worry, there's more awesome stuff!`);
    }

    function checkout(){
      if(cart.length === 0) {
        showNotification('Your cart is empty! Let\'s find some cool stuff! 🎈', 'error');
        return;
      }
      const total = cart.reduce((s,i)=>s+(i.price*i.quantity),0);
      showNotification(`Woohoo! Thanks for shopping! 🎉🎊 Total: R${total.toFixed(2)}. We're preparing your awesome order!`, 'success');
      const m=bootstrap.Modal.getInstance(document.querySelector('.modal.show')); 
      if(m) m.hide();
      // Clear cart after checkout with celebration
      setTimeout(() => {
        cart = [];
        updateCartCount();
        // Add some celebration emojis
        ['🎉', '🎊', '⭐', '🌟', '✨'].forEach((emoji, index) => {
          setTimeout(() => {
            const celebration = document.createElement('div');
            celebration.innerHTML = emoji;
            celebration.style.position = 'fixed';
            celebration.style.top = '50%';
            celebration.style.left = '50%';
            celebration.style.fontSize = '50px';
            celebration.style.zIndex = '9999';
            celebration.style.pointerEvents = 'none';
            celebration.style.animation = `celebrationBounce 2s ease forwards`;
            celebration.style.transform = `translate(-50%, -50%) rotate(${Math.random() * 360}deg)`;
            document.body.appendChild(celebration);
            setTimeout(() => celebration.remove(), 2000);
          }, index * 200);
        });
      }, 2000);
    }

    function showNotification(message, type='success'){
      // Remove any existing notifications
      document.querySelectorAll('.custom-notification').forEach(n=>n.remove());
      
      const n=document.createElement('div');
      n.className='custom-notification position-fixed';
      n.style.cssText='top:20px;right:20px;z-index:9999;opacity:0;transform:translateX(100%) rotate(10deg);transition:all .4s ease';
      
      let iconClass = 'emoji-smile-fill';
      if(type === 'error') iconClass = 'emoji-frown-fill';
      if(type === 'info') iconClass = 'info-circle-fill';
      
      n.innerHTML=`<div class="d-flex align-items-center">
        <i class="bi bi-${iconClass} me-2" style="font-size: 20px;"></i>
        <span>${message}</span>
        <button class="btn-close btn-close-white ms-3" style="font-size:.9rem" onclick="this.closest('.custom-notification').remove()"></button>
      </div>`;
      
      document.body.appendChild(n);
      requestAnimationFrame(()=>{ 
        n.style.opacity='1'; 
        n.style.transform='translateX(0) rotate(0deg)'; 
      });
      
      setTimeout(()=>{ 
        if(n.parentNode) {
          n.style.opacity='0'; 
          n.style.transform='translateX(100%) rotate(-10deg)'; 
          setTimeout(()=>n.remove(),400); 
        }
      }, 5000);
    }

    // Add celebration animation CSS
    const style = document.createElement('style');
    style.textContent = `
      @keyframes celebrationBounce {
        0% { transform: translate(-50%, -50%) scale(0) rotate(0deg); }
        50% { transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
        100% { transform: translate(-50%, -50%) scale(0) rotate(360deg); }
      }
      @keyframes floatUp {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>